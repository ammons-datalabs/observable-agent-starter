graph TB
    %% Core Framework Architecture

    subgraph Core["Core Framework (src/observable_agent_starter/)"]
        direction TB
        ObsProvider["ğŸ§© ObservabilityProvider<br/>â€¢ log_generation()<br/>â€¢ Logger infrastructure"]
        Config["âš™ï¸ Config Module<br/>â€¢ configure_lm_from_env()<br/>â€¢ configure_langfuse_from_env()"]
        Factory["ğŸ­ create_observability()<br/>Factory function for setup"]

        Factory --> ObsProvider
        Factory --> Config
        ObsProvider --> Config
    end

    subgraph Observability["Observability Layer"]
        direction TB
        Langfuse["ğŸ” Langfuse<br/>Tracing & Monitoring"]
        Config --> Langfuse
    end

    subgraph Testing["Testing & Quality"]
        direction TB
        CoreTests["ğŸ§ª Core Tests<br/>23 tests â€¢ 85%+ coverage"]
        ExampleTests["ğŸ§ª Example Tests<br/>7 integration tests"]
        DeepEval["ğŸ“Š DeepEval Metrics<br/>Relevancy â€¢ Faithfulness"]

        ObsProvider -.tested by.-> CoreTests
        Config -.tested by.-> CoreTests
    end

    subgraph CICD["CI/CD Pipeline"]
        direction LR
        CI["âš™ï¸ GitHub Actions<br/>Lint â€¢ Type â€¢ Test â€¢ Coverage"]
    end

    CoreTests --> CI
    ExampleTests --> CI
    DeepEval --> CI

    %% Styling
    classDef coreStyle fill:#e1f5ff,stroke:#01579b,stroke-width:3px
    classDef obsStyle fill:#e8f5e9,stroke:#1b5e20,stroke-width:2px
    classDef testStyle fill:#fce4ec,stroke:#880e4f,stroke-width:2px
    classDef ciStyle fill:#f3e5f5,stroke:#4a148c,stroke-width:2px

    class ObsProvider,Config,Factory coreStyle
    class Langfuse obsStyle
    class CoreTests,ExampleTests,DeepEval testStyle
    class CI ciStyle
